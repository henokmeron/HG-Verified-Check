<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <!-- Force browsers to NOT cache JavaScript/CSS files -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>HG Verified Vehicle Check - Professional UK Vehicle Data Services</title>
    <meta name="description" content="Get instant access to comprehensive Vehicle Data UK. Free vehicle registration checks with MOT, tax, and history information. Trusted by dealers and buyers nationwide." />
    <meta name="keywords" content="vehicle check, Vehicle Data UK, MOT status, car history, vehicle registration, UK vehicle lookup, car tax check" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="HG Verified Vehicle Check" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="HG Verified Vehicle Check - Professional UK Vehicle Data Services" />
    <meta property="og:description" content="Get instant access to comprehensive Vehicle Data UK. Free vehicle registration checks with MOT, tax, and history information." />
    <meta property="og:site_name" content="HG Verified Vehicle Check" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="HG Verified Vehicle Check - Professional UK Vehicle Data Services" />
    <meta name="twitter:description" content="Get instant access to comprehensive Vehicle Data UK. Free vehicle registration checks with MOT, tax, and history information." />
    
    <!-- Additional -->
    <meta name="application-name" content="HG Verified Vehicle Check" />
    <meta name="theme-color" content="#6B46C1" />
    <meta name="msapplication-TileColor" content="#6B46C1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&display=swap" rel="stylesheet">
    <!-- CRITICAL: Intercept /auth/* routes BEFORE React loads to prevent client-side routing -->
    <script>
      // This script runs IMMEDIATELY when the page loads, before React
      (function() {
        var path = window.location.pathname;
        if (path.startsWith('/auth/')) {
          console.error('‚ùå CRITICAL: /auth/* route detected but index.html was served!');
          console.error('‚ùå Path:', path);
          console.error('‚ùå This should be handled by Vercel rewrite rules, not the client.');
          
          // IMMEDIATELY prevent React from loading
          // Remove React script tag BEFORE it can execute
          var reactScripts = document.querySelectorAll('script[type="module"]');
          reactScripts.forEach(function(script) {
            if (script.src && (script.src.includes('main.tsx') || script.src.includes('main.js'))) {
              script.remove();
            }
          });
          
          // Also prevent future script loading
          var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              mutation.addedNodes.forEach(function(node) {
                if (node.nodeType === 1 && node.tagName === 'SCRIPT') {
                  var script = node;
                  if (script.src && (script.src.includes('main.tsx') || script.src.includes('main.js'))) {
                    script.remove();
                  }
                }
              });
            });
          });
          observer.observe(document.head, { childList: true, subtree: true });
          observer.observe(document.body, { childList: true, subtree: true });
          
          // Show error message
          document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:Arial;background:#f3f4f6"><div style="text-align:center;padding:40px;background:white;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,0.1)"><div style="color:#ef4444;font-size:48px;margin-bottom:20px">‚ö†Ô∏è</div><h1 style="color:#1f2937;margin-bottom:16px">Routing Error</h1><p style="color:#6b7280;margin-bottom:24px">The authentication route should be handled by the server.<br/>Please check Vercel rewrite rules.</p><button onclick="window.location.reload()" style="background:#6b46c1;color:white;border:none;padding:12px 24px;border-radius:6px;cursor:pointer;font-size:16px">Retry</button></div></div>';
          
          // Force immediate hard navigation - this MUST go to the serverless function
          var fullUrl = window.location.origin + path + 
                       (window.location.search || '') + 
                       (window.location.hash || '');
          
          console.log('üîÑ Forcing hard navigation to:', fullUrl);
          
          // Use location.replace immediately (synchronous)
          setTimeout(function() {
            window.location.replace(fullUrl);
          }, 0);
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <div id="modal-root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>